(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t){},105:function(e,t){},138:function(e,t){},139:function(e,t){},185:function(e,t,n){},187:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n.n(a),i=n(43),o=n.n(i),s=(n(96),n(22)),r=n.n(s),l=n(44),d=n(83),u=n(84),m=n(89),h=n(85),v=n(90),b=n(86),f=(n(6),n(185),n(88)),p=n.n(f),g=function(){var e,t;window.matchMedia("(max-width: 767px)").matches?(e=340,t=552):(e=600,t=500),navigator.getUserMedia({video:{facingMode:"environment",width:e,height:t},audio:!1},function(e){document.querySelector("video").srcObject=e},function(){})},w=function(e){""!==e&&(document.getElementById("loading-message").style.display="none",document.getElementById("sk-cube-grid").style.display="none",document.getElementById("video").style.display="flex")},E=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(c)))).predict=function(){var e=Object(l.a)(r.a.mark(function e(t,a){var c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.detect(t);case 2:c=e.sent,n.renderPredictions(c),requestAnimationFrame(function(){n.predict(t,a),void 0!==c[0]&&console.log("Prediction ".concat(c[0].class," ").concat(c[0].score))});case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),n.renderPredictions=function(e){var t=document.getElementById("canvas").getContext("2d");t.clearRect(0,0,t.canvas.width,t.canvas.height);t.font="16px courier",t.textBaseline="top",e.forEach(function(e){var n=e.bbox[0],a=e.bbox[1],c=e.bbox[2],i=e.bbox[3];t.strokeStyle="red",t.lineWidth=3,t.strokeRect(n,a,c,i),t.fillStyle="black";var o=t.measureText(e.class).width,s=parseInt("16px courier",10);t.fillRect(n,a,o+4,s+4)}),e.forEach(function(e){var n=e.bbox[0],a=e.bbox[1];t.fillStyle="white",t.fillText(e.class,n,a)})},n}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=document.getElementById("video"),n=document.getElementById("canvas");window.matchMedia("(max-width: 767px)").matches?(t.width=340,t.height=552,n.width=340,n.height=552):(t.width=600,t.height=500,n.width=600,n.height=500),console.log(" canvas.width ",n.width,"canvas.height",n.height),g(),function(){var n=Object(l.a)(r.a.mark(function n(){var a;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a();case 2:a=n.sent,console.log("loaded"),console.log("MODEL LOADED"),"LOADED",w("LOADED"),e.predict(t,a);case 8:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}()()}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},c.a.createElement("img",{src:p.a,className:"App-logo",alt:"logo"}),c.a.createElement("h3",null," This app is using coco-ssd model with tfjs to predict objects"))),c.a.createElement("br",null),c.a.createElement("div",{id:"loading-message"},c.a.createElement("p",null,"Model is loading. This will take a few moments ...")),c.a.createElement("div",{className:"sk-cube-grid",id:"sk-cube-grid"},c.a.createElement("div",{className:"sk-cube sk-cube1"}),c.a.createElement("div",{className:"sk-cube sk-cube2"}),c.a.createElement("div",{className:"sk-cube sk-cube3"}),c.a.createElement("div",{className:"sk-cube sk-cube4"}),c.a.createElement("div",{className:"sk-cube sk-cube5"}),c.a.createElement("div",{className:"sk-cube sk-cube6"}),c.a.createElement("div",{className:"sk-cube sk-cube7"}),c.a.createElement("div",{className:"sk-cube sk-cube8"}),c.a.createElement("div",{className:"sk-cube sk-cube9"})),c.a.createElement("video",{id:"video",controls:!0,autoPlay:!0}),c.a.createElement("canvas",{id:"canvas"}))}}]),t}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},88:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},91:function(e,t,n){e.exports=n(187)},96:function(e,t,n){}},[[91,2,1]]]);
//# sourceMappingURL=main.68aa59b2.chunk.js.map